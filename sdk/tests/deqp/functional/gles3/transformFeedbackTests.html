<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>WebGL Transform Feedback Tests</title>
<link rel="stylesheet" href="../../../resources/js-test-style.css"/>
<script src="../../../resources/js-test-pre.js"></script>
<script src="../../../conformance/resources/webgl-test-utils.js"></script>
<script src="../../require.js"></script>
</head>
<body>
<div id="description"></div>
<div id="console"></div>
<canvas id="canvas" width="320" height="240"></canvas>
<script>

    requirejs.config({
        baseUrl: "../../"
    });

    requirejs([
        "functional/gles3/es3fTransformFeedbackTests",
        "framework/opengl/gluVarTypeUtil"
    ], function(tft, gluVTU) {

        var wtu = WebGLTestUtils;
        var gl = wtu.create3DContext('canvas', {preserveDrawingBuffer: true}, 2);

        var glhelper = (function(name){
            return (function() {
                console.log(name+'(',arguments,')');
            });
        });
        
        gl.bindTransformFeedback = glhelper('bindTransformFeedback');
        gl.bufferData            = glhelper('bufferData');
        gl.bindBufferBase        = glhelper('bindBufferBase');
        gl.beginQuery            = glhelper('beginQuery');
        gl.getBufferSubData      = glhelper('getBufferSubData');
        gl.linkProgram           = glhelper('linkProgram');
        gl.getError = function() {
            return gl.NO_ERROR;
        };
        
        try {
            tft.run(gl);
        }
        catch(err) {
            bufferedLogToConsole(err);
        }
        
        
        
    });
</script>
</body>
</html>
